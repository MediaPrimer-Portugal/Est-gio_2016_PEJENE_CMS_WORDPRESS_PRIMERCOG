!function(t){var n=function(t){try{return t.originalEvent.dataTransfer.setData("test","test"),t.originalEvent.dataTransfer.clearData("test"),!0}catch(n){return!1}},e=function(e){var i=this,r={},o={},a={element:"",groups:null,onDragStart:null,onDragEnd:null},s=function(){l(),u(),c(),f()},l=function(){t.extend(!0,r,a,e)},u=function(){o.$element=t(r.element)},c=function(){o.$element.attr("draggable",!0)},f=function(){o.$element.on("dragstart",g).on("dragend",h)},g=function(e){var a=r.groups||[],s={groups:a};n(e)&&e.originalEvent.dataTransfer.setData(JSON.stringify(s),!0),t.isFunction(r.onDragStart)&&r.onDragStart.call(o.$element,e,i)},h=function(n){t.isFunction(r.onDragEnd)&&r.onDragEnd.call(o.$element,n,i)};this.destroy=function(){o.$element.off("dragstart",g),o.$element.removeAttr("draggable")},s()},i=function(e){var i=this,r={},o={},a={element:"",items:">",horizontalSensitivity:"10%",axis:["vertical","horizontal"],groups:null,isDroppingAllowed:null,onDragEnter:null,onDragging:null,onDropping:null,onDragLeave:null},s=function(){l(),u(),c()},l=function(){t.extend(r,a,e)},u=function(){o.$element=t(r.element)},c=function(){o.$element.on("dragenter",r.items,p).on("dragover",r.items,m).on("drop",r.items,D).on("dragleave drop",r.items,y)},f=function(t,n){var e,i;return g()?h()?(i=r.horizontalSensitivity.match(/\d+/))?(i=i[0],e=/%$/.test(r.horizontalSensitivity),e&&(i=n/i),t>n-i?"right":i>t?"left":!1):!1:t>n/2?"right":"left":!1},g=function(){return-1!==r.axis.indexOf("horizontal")},h=function(){return-1!==r.axis.indexOf("vertical")},d=function(n,e){var i,r,o,a;return e=e.originalEvent,i=t(n),r=i.outerHeight(),o=i.outerWidth(),(a=f(e.offsetX,o))?a:h()?a=e.offsetY>r/2?"bottom":"top":!1},v=function(e,o,a){var s,l,u,c;return r.groups&&n(a)&&(s=a.originalEvent.dataTransfer.types,u=!1,s=Array.prototype.slice.apply(s),s.forEach(function(t){try{if(l=JSON.parse(t),!l.groups.slice)return;r.groups.forEach(function(t){return-1!==l.groups.indexOf(t)?(u=!0,!1):void 0})}catch(n){}}),!u)?!1:t.isFunction(r.isDroppingAllowed)&&(c=r.isDroppingAllowed.call(e,o,a,i),!c)?!1:!0},p=function(n){if(n.target===this){t(this).children().each(function(){var n=this.style.pointerEvents;"none"!==n&&t(this).data("backup-pointer-events",n).css("pointer-events","none")});var e=d(this,n);v(this,e,n)&&t.isFunction(r.onDragEnter)&&r.onDragEnter.call(this,e,n,i)}},m=function(n){var e=d(this,n);v(this,e,n)&&(n.preventDefault(),t.isFunction(r.onDragging)&&r.onDragging.call(this,e,n,i))},D=function(n){var e=d(this,n);v(this,e,n)&&(n.preventDefault(),t.isFunction(r.onDropping)&&r.onDropping.call(this,e,n,i))},y=function(n){t(this).children().each(function(){var n=t(this),e=n.data("backup-pointer-events");void 0!==e&&n.removeData("backup-pointer-events").css("pointer-events",e)}),t.isFunction(r.onDragLeave)&&r.onDragLeave.call(this,n,i)};this.destroy=function(){o.$element.off("dragenter",r.items,p).off("dragover",r.items,m).off("drop",r.items,D).off("dragleave drop",r.items,y)},s()},r={html5Draggable:e,html5Droppable:i};t.each(r,function(n,e){t.fn[n]=function(i){return i=i||{},this.each(function(){var r=t.data(this,n),o=r instanceof e;return o?void("destroy"===i&&(r.destroy(),t.removeData(this,n))):(i.element=this,void t.data(this,n,new e(i)))}),this}})}(jQuery);